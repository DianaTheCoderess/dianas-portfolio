---
import { storyblokEditable } from "@storyblok/astro"

const { blok } = Astro.props
---

<article {...storyblokEditable(blok)} class="cyber-card p-1 rounded-lg">
  <div class="bg-deep-purple/95 rounded-lg p-6">
    <div class="space-y-4">
      <!-- Featured Image -->
      {blok.image?.filename && (
        <div class="aspect-video relative overflow-hidden rounded-lg">
          <img
            src={blok.image.filename}
            alt={blok.title}
            class="w-full h-full object-cover"
          />
        </div>
      )}

      <!-- Post Header -->
      <div class="space-y-2">
        <h1 class="text-2xl sm:text-3xl font-bold text-neon-pink">{blok.title}</h1>
        <div class="flex items-center gap-4 text-sm text-cream/60">
          <time datetime={new Date(blok.date).toISOString()}>
            {new Date(blok.date).toLocaleDateString('en-US', {
              year: 'numeric',
              month: 'long',
              day: 'numeric'
            })}
          </time>
          {blok.author && <span>By {blok.author}</span>}
        </div>
      </div>

      <!-- Content -->
      <div class="prose prose-invert max-w-none">
        <div set:html={blok.content} />
      </div>

      <!-- Tags -->
      {blok.tags && (
        <div class="flex flex-wrap gap-2 mt-6">
          {blok.tags.split(',').map((tag: string) => (
            <span class="px-3 py-1 text-xs bg-deep-purple/50 rounded-full text-cyber-blue border border-cyber-blue/20">
              {tag.trim()}
            </span>
          ))}
        </div>
      )}
    </div>
  </div>
</article>